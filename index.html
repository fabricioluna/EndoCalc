<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FMS - A Matemática da Homeostase</title>
    <style>
        :root { --fms-blue: #004a8d; --fms-gold: #c5a059; --fms-bg: #f0f2f5; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--fms-bg); display: flex; justify-content: center; padding: 20px; }
        .container { background: white; width: 100%; max-width: 600px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border-top: 15px solid var(--fms-blue); overflow: hidden; }
        
        /* Frase de Efeito no Topo */
        .intro-quote { background: var(--fms-blue); color: white; padding: 25px; text-align: center; font-style: italic; font-size: 1.1rem; line-height: 1.5; border-bottom: 5px solid var(--fms-gold); }
        
        .header { text-align: center; padding: 20px; border-bottom: 2px solid #eee; }
        .header img { max-width: 200px; }
        
        .section { padding: 25px; border-bottom: 10px solid var(--fms-bg); }
        h2 { color: var(--fms-blue); font-size: 1.2rem; border-left: 5px solid var(--fms-gold); padding-left: 10px; margin-bottom: 15px; }
        
        .pre-calc-info { background: #f8f9fa; border: 1px solid #e9ecef; padding: 15px; border-radius: 8px; font-size: 0.9rem; color: #444; margin-bottom: 15px; line-height: 1.4; }
        .pre-calc-info b { color: var(--fms-blue); }
        
        .formula-display { background: #2c3e50; color: white; padding: 15px; border-radius: 8px; text-align: center; font-family: 'Courier New', monospace; font-size: 1.2rem; margin: 10px 0; border: 1px solid var(--fms-gold); }
        .formula-display span { color: var(--fms-gold); }

        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
        input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: var(--fms-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        button:hover { background: #003366; }

        .result-box { display: none; margin-top: 20px; padding: 20px; border-radius: 8px; border-left: 8px solid; animation: fadeIn 0.4s ease; }
        .res-math { font-family: monospace; font-size: 1rem; opacity: 0.8; margin-bottom: 10px; }
        .res-val { font-size: 1.6rem; font-weight: bold; display: block; margin-bottom: 12px; }
        .res-text { font-size: 0.95rem; line-height: 1.5; }

        .good { border-color: #28a745; background: #e9f7ef; color: #155724; }
        .warn { border-color: #ffc107; background: #fff9e6; color: #856404; }
        .danger { border-color: #dc3545; background: #fdf2f3; color: #721c24; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .footer { text-align: center; padding: 15px; font-size: 0.7rem; color: #888; }
    </style>
</head>
<body>

<div class="container">
    <div class="intro-quote">
        "A homeostase não é um estado estático, é uma equação de busca pelo zero. O corpo está o tempo todo calculando a diferença entre onde ele está e onde ele deveria estar."
    </div>

    <div class="header">
        <img src="https://medicinadosertao.com.br/wp-content/uploads/2021/03/logo-fms-colorido.png" alt="FMS">
        <h1>Inteligência Bio-Matemática</h1>
    </div>

    <div class="section">
        <h2>1. Dinâmica da Homeostase (dH/dt)</h2>
        
        <div class="pre-calc-info">
            <b>A Equação:</b> Esta fórmula descreve a velocidade de ajuste do sistema. O organismo atua como um controlador que busca anular a distância entre o estado real e o alvo.<br><br>
            <b>Variáveis:</b><br>
            • <b>S (Set-point):</b> O alvo fisiológico ideal (ex: 500 ng/dL).<br>
            • <b>H (Estado Atual):</b> O nível hormonal real do paciente.<br>
            • <b>k:</b> Constante de sensibilidade do eixo HHG.<br><br>
            <b>Objetivo:</b> Em homeostase, dH/dt tende a <b>Zero</b>.
        </div>

        <div class="formula-display">dH/dt = k × (<span>S</span> - <span>H</span>)</div>

        <div class="input-grid">
            <div><label>Set-point (S):</label><input type="number" id="s1" value="500"></div>
            <div><label>Valor Atual (H):</label><input type="number" id="h1" value="80"></div>
        </div>
        
        <button onclick="analisarHomeo()">Calcular Ajuste de Fluxo</button>

        <div id="res1" class="result-box">
            <div id="math1" class="res-math"></div>
            <span id="val1" class="res-val"></span>
            <div id="txt1" class="res-text"></div>
        </div>
    </div>

    <div class="section">
        <h2>2. Rácio de Maturação (Segurança)</h2>
        
        <div class="pre-calc-info">
            <b>A Equação:</b> Mede a homeostase temporal. Avalia o equilíbrio entre a maturação biológica e o tempo cronológico para definir janelas de oportunidade.<br><br>
            <b>Variáveis:</b><br>
            • <b>IO:</b> Maturidade óssea avaliada por raio-x.<br>
            • <b>IC:</b> Idade cronológica do paciente.<br><br>
            <b>Objetivo:</b> Valores <b>inferiores a 1.0</b> indicam que o sistema ainda não atingiu o equilíbrio final de crescimento.
        </div>

        <div class="formula-display">R = <span>IO</span> / <span>IC</span></div>

        <div class="input-grid">
            <div><label>Idade Óssea (IO):</label><input type="number" id="io2" value="14"></div>
            <div><label>Idade Cronol. (IC):</label><input type="number" id="ic2" value="18"></div>
        </div>

        <button onclick="analisarRacio()">Analisar Janela Biológica</button>

        <div id="res2" class="result-box">
            <div id="math2" class="res-math"></div>
            <span id="val2" class="res-val"></span>
            <div id="txt2" class="res-text"></div>
        </div>
    </div>

    <div class="footer">FACULDADE MEDICINA DO SERTÃO • TUTORIA 2026</div>
</div>

<script>
    function analisarHomeo() {
        const s = parseFloat(document.getElementById('s1').value);
        const h = parseFloat(document.getElementById('h1').value);
        const k = 0.1;
        const taxa = (k * (s - h)).toFixed(1);
        const resBox = document.getElementById('res1');
        const txt = document.getElementById('txt1');
        
        resBox.style.display = 'block';
        document.getElementById('math1').innerText = `dH/dt = 0.1 * (${s} - ${h})`;
        document.getElementById('val1').innerText = `Taxa de Erro: ${taxa}`;

        if (taxa > 30) {
            resBox.className = 'result-box danger';
            txt.innerHTML = "<b>Diagnóstico: Falha Crítica de Feedback.</b> O erro positivo elevado indica que o sistema identifica o déficit, mas a homeostase está bloqueada. O corpo tenta buscar o 'zero' de erro, mas não há estímulo central para efetivar a resposta.";
        } else if (taxa > 0 && taxa <= 30) {
            resBox.className = 'result-box warn';
            txt.innerHTML = "<b>Diagnóstico: Compensação Ativa.</b> O organismo está em fase de ajuste dinâmico. A homeostase está reduzindo o erro gradualmente para atingir o estado de equilíbrio estável.";
        } else if (taxa == 0) {
            resBox.className = 'result-box good';
            txt.innerHTML = "<b>Diagnóstico: Homeostase Atingida.</b> Equilíbrio estável. O valor medido é idêntico ao set-point, anulando a pressão por variação (dH/dt = 0).";
        } else {
            resBox.className = 'result-box danger';
            txt.innerHTML = "<b>Diagnóstico: Sobrecarga.</b> O valor excede o alvo. A taxa negativa indica um esforço homeostático para reduzir os níveis e reestabelecer o equilíbrio.";
        }
    }

    function analisarRacio() {
        const io = parseFloat(document.getElementById('io2').value);
        const ic = parseFloat(document.getElementById('ic2').value);
        const r = (io / ic).toFixed(2);
        const resBox = document.getElementById('res2');
        const txt = document.getElementById('txt2');

        resBox.style.display = 'block';
        document.getElementById('math2').innerText = `R = ${io} / ${ic}`;
        document.getElementById('val2').innerText = `Rácio (R): ${r}`;

        if (r < 0.85) {
            resBox.className = 'result-box good';
            txt.innerHTML = "<b>Conduta: Segurança Total.</b> O sistema ainda não buscou o equilíbrio final (fusão). Existe uma reserva biológica ampla para intervenção hormonal sem prejuízo estatural.";
        } else if (r >= 0.85 && r < 1.0) {
            resBox.className = 'result-box warn';
            txt.innerHTML = "<b>Conduta: Alerta Crítico.</b> A homeostase do desenvolvimento está próxima de se completar. A margem de erro para a reposição é mínima; doses altas acelerarão a fusão óssea.";
        } else {
            resBox.className = 'result-box danger';
            txt.innerHTML = "<b>Conduta: Homeostase Finalizada.</b> Rácio ≥ 1.0 indica maturidade óssea completa. O 'zero' de crescimento foi atingido; a terapia agora foca apenas na virilização.";
        }
    }
</script>
</body>
</html>
