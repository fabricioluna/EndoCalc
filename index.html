<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FMS EndoCalc - Apresentação de Tutoria</title>
    <style>
        :root {
            --fms-blue: #004a8d;
            --fms-gold: #c5a059;
            --fms-bg: #f8f9fa;
            --fms-white: #ffffff;
            --fms-dark: #2c3e50;
        }

        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: var(--fms-bg); display: flex; justify-content: center; padding: 20px; margin: 0; }
        .container { background: var(--fms-white); width: 100%; max-width: 650px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); border-top: 15px solid var(--fms-blue); overflow: hidden; }
        
        /* Cabeçalho */
        .header { text-align: center; padding: 30px 20px; background: #fff; border-bottom: 2px solid #eee; }
        .header img { max-width: 250px; height: auto; margin-bottom: 10px; }
        .header h1 { color: var(--fms-blue); font-size: 1.5rem; margin: 0; text-transform: uppercase; letter-spacing: 1px; }

        /* Seções */
        .section { padding: 30px; border-bottom: 10px solid var(--fms-bg); }
        .section h2 { color: var(--fms-blue); font-size: 1.3rem; margin-top: 0; border-left: 6px solid var(--fms-gold); padding-left: 12px; }

        /* Blocos de Teoria (Antes do Cálculo) */
        .theory-card { background: #fdfdfd; border: 1px solid #e0e0e0; padding: 15px; border-radius: 8px; margin: 15px 0; font-size: 0.9rem; line-height: 1.5; color: #444; }
        .theory-card strong { color: var(--fms-blue); }
        .formula-box { background: var(--fms-dark); color: #fff; padding: 12px; border-radius: 6px; text-align: center; font-family: 'Courier New', monospace; font-size: 1.1rem; margin: 10px 0; border: 1px solid var(--fms-gold); }
        .formula-box span { color: var(--fms-gold); }

        /* Inputs e Botões */
        .input-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.85rem; font-weight: bold; color: #333; margin-bottom: 5px; }
        input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-size: 1rem; }
        .btn-calc { width: 100%; padding: 15px; background-color: var(--fms-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 1rem; transition: 0.3s; }
        .btn-calc:hover { background-color: #003366; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }

        /* Área de Resultado (Após Cálculo) */
        .result-area { display: none; margin-top: 20px; padding: 20px; border-radius: 8px; animation: slideIn 0.4s ease-out; border-left: 8px solid; }
        .res-math { font-family: monospace; font-size: 1rem; margin-bottom: 8px; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 5px; }
        .res-value { font-size: 1.5rem; font-weight: bold; margin-bottom: 10px; display: block; }
        .res-interpretation { font-size: 0.95rem; font-style: italic; font-weight: 500; }

        /* Estilos de Cores por Contexto */
        .box-h { background: #eef2ff; border-color: #4338ca; color: #1e40af; }
        .box-g { background: #fff7ed; border-color: #ea580c; color: #9a3412; }
        .box-r { background: #f0fdf4; border-color: #16a34a; color: #166534; }
        .box-m { background: #fef2f2; border-color: #dc2626; color: #991b1b; }

        @keyframes slideIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .footer { text-align: center; padding: 25px; font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <img src="https://medicinadosertao.com.br/wp-content/uploads/2021/03/logo-fms-colorido.png" alt="FMS Logo">
        <h1>EndoCalc - Analisador de Homeostase</h1>
    </div>

    <div class="section">
        <h2>1. Dinâmica da Homeostase (dH/dt)</h2>
        <div class="theory-card">
            <strong>Equação:</strong> dH/dt = k × (S - H)<br>
            <strong>Variáveis:</strong> <em>S</em> (Set-point/Alvo: 500); <em>H</em> (Nível Atual); <em>k</em> (Constante de Sensibilidade).<br>
            <strong>Objetivo:</strong> Medir a velocidade e a "pressão" que o corpo exerce para retornar ao equilíbrio.<br>
            <strong>Resultado Ótimo:</strong> Zero (Indica que o sistema está em equilíbrio estável).
        </div>
        <div class="formula-box">dH/dt = 0.1 × (<span>500</span> - <span>H</span>)</div>
        <div class="input-group">
            <label>Nível Atual de Testosterona (H):</label>
            <input type="number" id="h_val" value="80">
        </div>
        <button class="btn-calc" onclick="calcDif()">Calcular Reação do Sistema</button>
        <div id="res-dif" class="result-area box-h">
            <div id="math-dif" class="res-math"></div>
            <span id="val-dif" class="res-value"></span>
            <div id="int-dif" class="res-interpretation"></div>
        </div>
    </div>

    <div class="section">
        <h2>2. Estabilidade do Eixo (Ganho G)</h2>
        <div class="theory-card">
            <strong>Equação:</strong> G = A / (1 + Aβ)<br>
            <strong>Variáveis:</strong> <em>A</em> (Estímulo central/Hipofisário); <em>β</em> (Força do feedback negativo - fixo em 10).<br>
            <strong>Objetivo:</strong> Avaliar a eficiência da comunicação entre o comando (cérebro) e o alvo (gônada).<br>
            <strong>Resultado Ótimo:</strong> Um valor estável (Normalmente entre 0.04 e 0.08).
        </div>
        <div class="formula-box">G = <span>A</span> / (1 + <span>A × 10</span>)</div>
        <div class="input-group">
            <label>Estímulo Central (A) [Escala 0 a 1]:</label>
            <input type="number" id="a_val" value="0.1" step="0.1">
        </div>
        <button class="btn-calc" onclick="calcGanho()">Analisar Estabilidade do Eixo</button>
        <div id="res-ganho" class="result-area box-g">
            <div id="math-ganho" class="res-math"></div>
            <span id="val-ganho" class="res-value"></span>
            <div id="int-ganho" class="res-interpretation"></div>
        </div>
    </div>

    <div class="section">
        <h2>3. Segurança de Crescimento (R)</h2>
        <div class="theory-card">
            <strong>Equação:</strong> R = IO / IC<br>
            <strong>Variáveis:</strong> <em>IO</em> (Idade Óssea); <em>IC</em> (Idade Cronológica).<br>
            <strong>Objetivo:</strong> Determinar se a terapia de reposição é segura ou se causará baixa estatura final.<br>
            <strong>Resultado Ótimo:</strong> Menor que 1.0 (Indica potencial de crescimento).
        </div>
        <div class="formula-box">R = <span>IO</span> / <span>18</span></div>
        <div class="input-group">
            <label>Idade Óssea (Anos):</label>
            <input type="number" id="io_val" value="14">
        </div>
        <button class="btn-calc" onclick="calcRacio()">Verificar Janela Óssea</button>
        <div id="res-racio" class="result-area box-r">
            <div id="math-racio" class="res-math"></div>
            <span id="val-racio" class="res-value"></span>
            <div id="int-racio" class="res-interpretation"></div>
        </div>
    </div>

    <div class="section">
        <h2>4. Índice Metabólico (HOMA-IR)</h2>
        <div class="theory-card">
            <strong>Equação:</strong> (Glicose × Insulina) / 405<br>
            <strong>Variáveis:</strong> <em>Glicose</em> (mg/dL); <em>Insulina</em> (µUI/mL).<br>
            <strong>Objetivo:</strong> Avaliar a resistência insulínica decorrente do desequilíbrio hormonal e gordura ginóide.<br>
            <strong>Resultado Ótimo:</strong> Abaixo de 2.5.
        </div>
        <div class="formula-box">HOMA = (<span>90</span> × <span>I</span>) / 405</div>
        <div class="input-group">
            <label>Insulina de Jejum (I):</label>
            <input type="number" id="ins_val" value="15">
        </div>
        <button class="btn-calc" onclick="calcHoma()">Analisar Risco Metabólico</button>
        <div id="res-homa" class="result-area box-m">
            <div id="math-homa" class="res-math"></div>
            <span id="val-homa" class="res-value"></span>
            <div id="int-homa" class="res-interpretation"></div>
        </div>
    </div>

    <div class="footer">FMS • FACULDADE MEDICINA DO SERTÃO • 2026</div>
</div>

<script>
    function calcDif() {
        const h = document.getElementById('h_val').value;
        const res = (0.1 * (500 - h)).toFixed(1);
        document.getElementById('math-dif').innerText = `dH/dt = 0.1 * (500 - ${h})`;
        document.getElementById('val-dif').innerText = `Velocidade de Reação: +${res}`;
        document.getElementById('int-dif').innerText = `Interpretação: O valor positivo indica uma forte pressão homeostática para aumentar a testosterona. O sistema 'sente' o erro, mas a falha central impede a execução.`;
        document.getElementById('res-dif').style.display = 'block';
    }

    function calcGanho() {
        const a = parseFloat(document.getElementById('a_val').value);
        const res = (a / (1 + (a * 10))).toFixed(3);
        document.getElementById('math-ganho').innerText = `G = ${a} / (1 + (${a} * 10))`;
        document.getElementById('val-ganho').innerText = `Ganho (G): ${res}`;
        document.getElementById('int-ganho').innerText = `Interpretação: No Rodrigo (A=0.1), o ganho é baixo (${res}). Isso indica um eixo dormente/fraco que não consegue sustentar a estabilidade sozinho.`;
        document.getElementById('res-ganho').style.display = 'block';
    }

    function calcRacio() {
        const io = document.getElementById('io_val').value;
        const res = (io / 18).toFixed(2);
        document.getElementById('math-racio').innerText = `R = ${io} / 18`;
        document.getElementById('val-racio').innerText = `Rácio: ${res}`;
        let msg = res < 1 ? "✅ Janela Aberta: O paciente ainda possui potencial de estirão puberal significativo." : "❌ Janela Fechada: Maturidade esquelética atingida.";
        document.getElementById('int-racio').innerText = msg;
        document.getElementById('res-racio').style.display = 'block';
    }

    function calcHoma() {
        const ins = document.getElementById('ins_val').value;
        const res = ((90 * ins) / 405).toFixed(2);
        document.getElementById('math-homa').innerText = `HOMA = (90 * ${ins}) / 405`;
        document.getElementById('val-homa').innerText = `Índice: ${res}`;
        let msg = res > 2.5 ? "⚠️ Alerta: Resistência insulínica detectada. Risco de Síndrome Metabólica por hipogonadismo." : "✅ Normal: Sensibilidade à insulina preservada.";
        document.getElementById('int-homa').innerText = msg;
        document.getElementById('res-homa').style.display = 'block';
    }
</script>

</body>
</html>
