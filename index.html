<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FMS - Biofísica da Homeostase</title>
    <style>
        :root { --fms-blue: #004a8d; --fms-gold: #c5a059; --fms-bg: #f0f2f5; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--fms-bg); display: flex; justify-content: center; padding: 20px; }
        .container { background: white; width: 100%; max-width: 600px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); border-top: 15px solid var(--fms-blue); overflow: hidden; }
        .header { text-align: center; padding: 20px; border-bottom: 2px solid #eee; }
        .header img { max-width: 200px; }
        .section { padding: 25px; border-bottom: 10px solid var(--fms-bg); }
        h2 { color: var(--fms-blue); font-size: 1.2rem; border-left: 5px solid var(--fms-gold); padding-left: 10px; margin-bottom: 15px; }
        
        /* Estilo da Explicação Pré-Cálculo */
        .pre-calc-info { background: #f8f9fa; border: 1px solid #e9ecef; padding: 15px; border-radius: 8px; font-size: 0.9rem; color: #444; margin-bottom: 15px; line-height: 1.4; }
        .pre-calc-info b { color: var(--fms-blue); }
        
        .formula-display { background: #2c3e50; color: white; padding: 15px; border-radius: 8px; text-align: center; font-family: 'Courier New', monospace; font-size: 1.2rem; margin: 10px 0; border: 1px solid var(--fms-gold); }
        .formula-display span { color: var(--fms-gold); }

        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
        input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: var(--fms-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        button:hover { background: #003366; }

        /* Estilo do Resultado Dinâmico */
        .result-box { display: none; margin-top: 20px; padding: 20px; border-radius: 8px; border-left: 8px solid; animation: fadeIn 0.4s ease; }
        .res-math { font-family: monospace; font-size: 1rem; opacity: 0.8; margin-bottom: 10px; }
        .res-val { font-size: 1.6rem; font-weight: bold; display: block; margin-bottom: 12px; }
        .res-text { font-size: 0.95rem; line-height: 1.5; }

        .good { border-color: #28a745; background: #e9f7ef; color: #155724; }
        .warn { border-color: #ffc107; background: #fff9e6; color: #856404; }
        .danger { border-color: #dc3545; background: #fdf2f3; color: #721c24; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .footer { text-align: center; padding: 15px; font-size: 0.7rem; color: #888; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <img src="https://medicinadosertao.com.br/wp-content/uploads/2021/03/logo-fms-colorido.png" alt="FMS">
        <h1>Biofísica e Controle Homeostático</h1>
    </div>

    <div class="section">
        <h2>1. Dinâmica da Homeostase (dH/dt)</h2>
        
        <div class="pre-calc-info">
            <b>A Equação:</b> Esta fórmula descreve a velocidade de ajuste do sistema. O corpo humano funciona como um termostato: ele calcula a diferença entre o alvo e o estado real.<br><br>
            <b>Variáveis:</b><br>
            • <b>S (Set-point):</b> O alvo fisiológico ideal.<br>
            • <b>H (Estado Atual):</b> O nível hormonal medido.<br>
            • <b>k:</b> A constante de sensibilidade do eixo.<br><br>
            <b>Objetivo:</b> Em homeostase, o erro (S - H) deve ser <b>Zero</b>.
        </div>

        <div class="formula-display">dH/dt = k × (<span>S</span> - <span>H</span>)</div>

        <div class="input-grid">
            <div><label>Set-point (S):</label><input type="number" id="s1" value="500"></div>
            <div><label>Valor Atual (H):</label><input type="number" id="h1" value="80"></div>
        </div>
        
        <button onclick="analisarHomeo()">Calcular Ajuste de Fluxo</button>

        <div id="res1" class="result-box">
            <div id="math1" class="res-math"></div>
            <span id="val1" class="res-val"></span>
            <div id="txt1" class="res-text"></div>
        </div>
    </div>

    <div class="section">
        <h2>2. Rácio de Maturação (Segurança)</h2>
        
        <div class="pre-calc-info">
            <b>A Equação:</b> Determina a homeostase do desenvolvimento esquelético. Avalia se o tempo biológico está síncrono com o tempo cronológico.<br><br>
            <b>Variáveis:</b><br>
            • <b>IO:</b> Maturidade óssea (exame de raio-x).<br>
            • <b>IC:</b> Idade real do paciente.<br><br>
            <b>Objetivo:</b> Um valor <b>inferior a 1.0</b> indica que o sistema ainda não atingiu o equilíbrio final (fechamento das epífises).
        </div>

        <div class="formula-display">R = <span>IO</span> / <span>IC</span></div>

        <div class="input-grid">
            <div><label>Idade Óssea (IO):</label><input type="number" id="io2" value="14"></div>
            <div><label>Idade Cronol. (IC):</label><input type="number" id="ic2" value="18"></div>
        </div>

        <button onclick="analisarRacio()">Analisar Janela Biológica</button>

        <div id="res2" class="result-box">
            <div id="math2" class="res-math"></div>
            <span id="val2" class="res-val"></span>
            <div id="txt2" class="res-text"></div>
        </div>
    </div>

    <div class="footer">FACULDADE MEDICINA DO SERTÃO • TUTORIA 2026</div>
</div>

<script>
    function analisarHomeo() {
        const s = parseFloat(document.getElementById('s1').value);
        const h = parseFloat(document.getElementById('h1').value);
        const k = 0.1;
        const taxa = (k * (s - h)).toFixed(1);
        const resBox = document.getElementById('res1');
        const txt = document.getElementById('txt1');
        
        resBox.style.display = 'block';
        document.getElementById('math1').innerText = `dH/dt = 0.1 * (${s} - ${h})`;
        document.getElementById('val1').innerText = `Taxa de Erro: ${taxa}`;

        if (taxa > 30) {
            resBox.className = 'result-box danger';
            txt.innerHTML = "<b>Diagnóstico: Falha Crítica de Feedback.</b> O erro positivo elevado mostra que o corpo está em um estado de urgência para compensar o déficit, mas a homeostase não se completa por ausência de sinal central (Kallmann).";
        } else if (taxa > 0 && taxa <= 30) {
            resBox.className = 'result-box warn';
            txt.innerHTML = "<b>Diagnóstico: Compensação Ativa.</b> O sistema está em fase de ajuste. A homeostase está tentando reduzir o erro, aproximando-se gradualmente do alvo estável.";
        } else if (taxa == 0) {
            resBox.className = 'result-box good';
            txt.innerHTML = "<b>Diagnóstico: Homeostase Atingida.</b> O erro foi anulado. O sistema atingiu o estado estacionário onde dH/dt = 0.";
        } else {
            resBox.className = 'result-box danger';
            txt.innerHTML = "<b>Diagnóstico: Sobrecarga.</b> O valor atual excede o set-point, gerando uma taxa negativa para tentar reduzir os níveis e evitar toxicidade.";
        }
    }

    function analisarRacio() {
        const io = parseFloat(document.getElementById('io2').value);
        const ic = parseFloat(document.getElementById('ic2').value);
        const r = (io / ic).toFixed(2);
        const resBox = document.getElementById('res2');
        const txt = document.getElementById('txt2');

        resBox.style.display = 'block';
        document.getElementById('math2').innerText = `R = ${io} / ${ic}`;
        document.getElementById('val2').innerText = `Rácio (R): ${r}`;

        if (r < 0.8) {
            resBox.className = 'result-box good';
            txt.innerHTML = "<b>Conduta: Segurança Total.</b> O rácio muito abaixo de 1.0 prova que a homeostase do crescimento ainda tem reserva. Há 'tempo matemático' para induzir a puberdade com segurança estatural.";
        } else if (r >= 0.8 && r < 1.0) {
            resBox.className = 'result-box warn';
            txt.innerHTML = "<b>Conduta: Alerta Clínico.</b> O sistema está se aproximando do equilíbrio final (fusão). A reposição deve ser cautelosa para não acelerar o 'zero' do crescimento precocemente.";
        } else {
            resBox.className = 'result-box danger';
            txt.innerHTML = "<b>Conduta: Maturidade Atingida.</b> Rácio ≥ 1.0 indica que o potencial de crescimento foi exaurido. O foco deve ser apenas na reposição hormonal de manutenção.";
        }
    }
</script>
</body>
</html>
